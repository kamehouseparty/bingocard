<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Bingo</title>
   <style> html,body{margin: 0; padding: 0; } .khp-wrapper{max-width: 95vh; user-select: none; max-height: 100vh; } .khp-bingo-mobile-preview{height: 20vh; background: orange; } .khp-bingo-mini-card{width:20vh; } .khp-bingo-mini-card div{background: white; outline: 1px black solid; } .khp-bingo-mini-card[data-khp-mini-card-size="5"] div{width:20%; padding:0 0 20% 0; } .khp-bingo-mini-card div[data-khp-bingo-square-checked='true']{background:#30ff00 ; } .khp-bingo-card, .khp-bingo-mobile-preview .khp-bingo-mini-card{display: flex; flex-wrap: wrap; margin:auto; } .khp-bingo-card{overflow: auto; height: 80vh; } .khp-bingo-card .khp-bingo-square{position: relative; background: #3d1e8e; outline: black; height:0; cursor: pointer; } .khp-bingo-card .khp-bingo-square{width:99%; padding: 0 0 85px 0; margin: 1px auto; } .khp-bingo-card .khp-bingo-square:nth-child(odd){background:#f22f7f; } .khp-bingo-card .khp-bingo-square[data-khp-bingo-square-checked='true']{background: #30ff00 !important; } .khp-bingo-card .khp-bingo-square[data-khp-bingo-square-checked='true'] p{color: #f22f7f !important; } .khp-bingo-card .khp-bingo-square div{position: absolute; top:0; left:0; width:100%; height: 100%; display: flex; align-items: center; justify-content: space-around; outline:white 1px solid; overflow: auto; } .khp-bingo-card .khp-bingo-square div p{margin:0; padding:0; width:85%; max-height: 100%; color:white; text-align: center; font-family: sans-serif; font-size: 1.25em; } .khp-bingo, .khp-bingo-card .khp-bingo-square, .khp-bingo-card .khp-bingo-square p{transition: 500ms !important; } @media only screen and (min-width: 750px) {.khp-bingo-mobile-preview{display:none; } .khp-bingo-card{height: auto; max-width: 95vh; } .khp-bingo-card[data-khp-card-size="5"] .khp-bingo-square:nth-of-type(odd){background:#f22f7f; } .khp-bingo-card[data-khp-card-size="5"] .khp-bingo-square{width:20%; padding:0 0 20% 0; } .khp-bingo-card .khp-bingo-square[data-khp-bingo-square-checked='false']:hover{background: #fdff00 !important; } .khp-bingo-card .khp-bingo-square[data-khp-bingo-square-checked='false']:hover p{color: #3d1e8e !important; } .khp-bingo-card .khp-bingo-square[data-khp-bingo-square-checked='true']:hover{background: lightgreen !important; } } </style>
</head>
<body><script src="data:application/octet-stream;base64,Ly8gQHRzLWNoZWNrCihmdW5jdGlvbigpewogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIENvbnN0YW50cyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIHZhciBiaW5nb09iamVjdCA9IHsgInNxdWFyZXMiOnsgInN1cmVUaGluZyI6WyAiVHdvIHBlb3BsZSBzYXkgXCJLZWVwIEZpZ2h0aW5nXCIgaW4gdW5pc29uIiwgIlwiQW5kIFNjZW5lXCIgaXMgc2FpZCBpbiB1bmlzb24gYnkgdHdvIG9yIG1vcmUgcGVvcGxlIiwgIllvdSBsYXVnaCBhdCBhIGpva2UiLCAiQSBob3N0IHRhbGtzIGFib3V0IHNvbWV0aGluZyBub24tZHJhZ29uIGJhbGwgZm9yIHRvbyBsb25nIiBdLCAiY29tbW9uIjpbICJBcnJvbiBicmVha3MgZHVybmluZyB0aGUgaW50cm8gdG8gdGhlIG9uZSBtaW51dGUgcm91bmR1cCIsICJGYXJ0IEpva2UiLCAiU3BvaWxlcnMgRm9yIERyYWdvbiBCYWxsIFoiLCAiQXJyb24gc3RhcnRzIGEgUm9zaGkgbGluZSB3aXRoIGEgZGlydHkgbGF1Z2giLCAiVmluY2UgZGVsaXZlcnMgdW5zb2xpY2l0ZWQgTmFydXRvIGZhY3RzIiwgIkFuIGluYXBwcm9wcmlhdGUgdGhlbWUgaXMgcmV2ZWxlZCB0byBiZSBpbiBhIGNoaWxkcmVuJ3MgY2FydG9vbiIsICJBIGhvc3QgY2xhaW1zIHRoZXkgZG8gbm90IGRvIHJlc2VhcmNoIiwgIkEgc2NlbmUgZnJvbSBpbnNpZGUgdGhlIHdyaXRlcnMgcm9vbSIsICJUaGUgaG9zdHMgZ3VzaCBvdmVyIExhdW5jaCIsICJBIHJldmVyZW5jZSB0byBJbXByb3YgVGhlb3J5IGFsaWVuYXRlcyBhIGxhcmdlIHBlcmNlbnRhZ2VzIG9mIHRoZSBhdWRpZW5jZSIsICJUaGUgSmFwYW5lc2UgZXBpc29kZSB0aXRsZSBpcyBiZXR0ZXIgdGhhbiB0aGUgRW5nbGlzaCBlcGlzb2RlIHRpdGxlIiwgIkEgSG9zdCB0YWxrcyBhYm91dCB0aGVpciBjaGlsZGhvb2QiLCAiVmluY2Ugc2F5cyBzb21ldGhpbmcgbmVnYXRpdmUgYWJvdXQgQnVsbWEiLCAiVGhlIGhvc3RzIGVubGlzdCB0aGUgYXVkaWVuY2UgdG8gcHJvbW90ZSB0aGUgcG9kY2FzdCIsICJBIGhvc3QgXCJtYWtlcyBpdCBhd2t3YXJkXCIiLCAiQSBwdW4gaXMgbWFkZSIsICJZYW1jaGEncyBzaG9ydGNvbWluZ3MgYXJlIHBvaW50ZWQgb3V0IiwgIlRoZSBhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIEFhcm9uIGFuZCBWaW5jZSBiZWNvbWVzIG9idmlvdXMiLCAiU29tZW9uZSBTYXlzIFwiV0hBQUFBQVQhISFcIiIsICJBIGhvc3QgaXMgZ3Jvc3MiLCAiQSBob3N0IGRvZXMgYW4gaW1wcmVzc2lvbiIsICJBIGhvc3QgcmVmZXJzIHRvIGEgbm9uLURyYWdvbiBCYWxsL25vbi1OYXJ1dG8gQW5pbWUiLCAiQSBob3N0IHRhbGtzIGFib3V0IGEgdmlkZW8gZ2FtZSBwb3NpdGl2ZWx5IiwgIlRoZXJlcyBhIG1pbm9yIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZHViIGFuZCBzdWIgdGhhdCBkb2Vzbid0IGRyYXN0aWNhbGx5IGNoYW5nZSB0aGUgY29udGV4dCBvZiB0aGUgc2NlbmUiLCAiU2V4dWFsIEpva2UiLCAiQSBob3N0IGF0dGVtcHRzIGEgZmVtYWxlIHZvaWNlIiwgIlwiQmxhdyBCbGF3IEJsYXdcIiBpcyB1c2VkIGluIGEgT25lIE1pbnV0ZSBSb3VuZHVwIiwgIkEgSG9sbHl3b29kIGFjdG9yIGlzIHJlZmVyZW5jZWQiLCAiQSBob3N0IHN3ZWFycyIsICJBIGZhbiByZWFjaGVzIG91dCB0byB0aGUgcG9kIiwgIlRoZSBPbmUgTWludXRlIFJvdW5kdXAgY29uY2x1ZGVzIHNtb290aGx5IiwgIllvdXIgMysgdGltZSBsaXN0ZW5pbmcgdG8gdGhpcyBlcGlzb2RlIiBdLCAibWVkaXVtIjpbICJBIFB1biBSdW4gb2NjdXJzIiwgIlNwb2lsZXJzIGZvciBEcmFnb24gQmFsbCBTdXBlciIsICJBIGhvc3QgY2F0Y2hlcyB0aGVtIHNlbGYgc2F5aW5nIFwiTW9uc3RlclwiIGFzIGEgcGVqb3JhdGl2ZSIsICJPbmUgb3IgbW9yZSBvZiB0aGUgaG9zdHMgYXJlIGh1bmdyeSIsICJBIGZhbiBzZW5kcyBhbiBlbWFpbCIsICJBIGZhbiBzZW5kcyBhIHR3ZWV0IiwgIkEgZmFuIHNlbmRzIGEgbWVzc2FnZSBvbiBJbnN0YWdyYW0iLCAiQSBjb3VydHJvb20gc2NlbmUiLCAiU29tZXRoaW5nIGlzIFwiQ2Fubm9uXCIgYW5kIFwiTm90IE5pY2sgQ2Fubm9uXCIiLCAiRGljayBKb2tlIiwgIkEgcG9saXRpY2FsIGpva2UgaXMgbWFkZSIsICJSZWxpZ2lvdXMgdGhlbWVkIGpva2UiLCAiR29rdSBpcyByZWZlcmVuY2VkIGFzIGEgcHN5Y2hvcGF0aCIsICJDU0kvU1ZVL0ljZSBDdWJlIHJlZmVyZW5jZSIsICJBIGhvc3QgdGFsa3MgYWJvdXQgYSB2aWRlbyBnYW1lIG5lZ2F0aXZlbHkiLCAiQSBob3N0IG1ha2VzIHJlZmVyZW5jZSB0byBWaW5jZSdzIGhlaWdodCIsICJBIGhvc3Qgc3BlYWtzIGRpcmVjdGx5IHRvIGEgcmVhbCBwZXJzb24gdGhyb3VnaCB0aGUgcG9kIChleGNsdWRpbmcgZmFucykiLCAiQWFyb24gY2FsbHMgc29tZW9uZSBhIGZvb2wiLCAiQSBob3N0IGlzIGV4Y2l0ZWQgYWJvdXQgYSBLYW1laGFtZWhhIiwgIk11bHRpcGxlIGhvc3RzIGJvdGggaW1wZXJzb25hdGUgdGhlIHNhbWUgcGVyc29uIGluIGEgc2NlbmUiIF0sICJyYXJlIjpbICJZJ0JvaSBDb3JleSBsZWF2ZXMgYSBicmVhdGggdGFraW5nIHZvaWNlbWFpbCIsICJWaW5jZSBCcmVha3MgRHVyaW5nIHRoZSBpbnRybyB0byB0aGUgb25lIG1pbnV0ZSByb3VuZHVwIiwgIkl0J3MgYSBCZXN0IE9mIEVwaXNvZGUhISEiLCAiXCJDYXZhbGNhZGVcIiBpcyB1c2VkIGluIGEgb25lIG1pbnV0ZSByb3VuZHVwIiwgIlZpbmNlIHJlZmVycyB0byBhIGphcGFuZXNlIHRoaW5nIGFzIGEgXCJUYW1hXCIiLCAiTGl0dGxlIEJveSBQZWVuIiwgIlNvbWVvbmUgbGVhdmVzIGEgdm9pY2VtYWlsIiwgIkFhcm9uIHNheXMgXCJDdWNrXCIiLCAiS2ltIENhdHRyYWxsIGlzIG9uIHRoZSBwb2QiLCAiT25lIG9mIHRoZSBob3N0cyB0YWxrIGFib3V0IFNwaWRlci1NYW4iLCAiVmluY2UgYW5kIEFycm9uIGtpc3MiLCAiVmluY2Ugc2F5cyBzb21ldGhpbmcgcG9zaXRpdmUgYWJvdXQgQnVsbWEiLCAiSW1wcm92aXNlZCBzb25nL3JhcCIsICJBIGhvc3Qgc2x1cnMgdGhlaXIgd29yZHMgdG8gZm9ybSBhIG5ldyB3b3JkL2NoYXJhY3RlciBmdXNpb24iLCAiR3Vlc3Rpc29kZSIsICJNb3JlIHRoYW4gMiBob3N0cyIsICJLYW1lIEhvdXNlIFBhcnR5IC0gQWZ0ZXIgRGFyayIsICJLb25raWNoaSBpcyByZWZlcnJlZCB0byBpbiB0aGUgT25lIE1pbnV0ZSBSb3VuZHVwIiwgIlJvY2t5IFJlZmVyZW5jZSIsICJPbmUgUGllY2UgUmVmZXJlbmNlIiBdLCAidWx0cmFSYXJlIjpbICJZYWh0emVlISIsICJWaW5jZSBhbmQvb3IgQXJyb24gZG8gcmVzZWFyY2ggb24gdGhlIHBvZCIsICJWaW5jZSBzYXlzIHNvbWV0aGluZyBwb3NpdGl2ZSBhYm91dCBOaWNrIENhbm5vbiIsICJBIGZhbiBjb250cmlidXRlZCBPbmUgTWludXRlIFJvdW5kdXAiLCAiQSBob3N0IG5vdGljZXMgdGhhdCBhIHNjZW5lIHBhc3NlcyB0aGUgQmVjaGRlbCBUZXN0IiwgIkFhcm9uIGNhbGxzIHRoZSBwb2RjYXN0IFwiS2FtZSBQYXJ0eSBIb3VzZVwiIiwgIllvdSBzZW5kIGEgdGltZXN0YW1wZWQgZW1haWwgdG8ga2FtZWhvdXNlcGFydHlwb2RAZ21haWwuY29tIGJlZm9yZSB0aGUgZXBpc29kZSBmaW5pc2hlcyIgXSB9IH07CgogICAgdmFyIG9kZHNNYXAgPSBbCiAgICAgICAgICAgIFszLDIsMiwyLDNdLAogICAgICAgICAgICBbMiwzLDIsMywyXSwKICAgICAgICAgICAgWzIsMiw0LDIsMl0sCiAgICAgICAgICAgIFsyLDMsMiwzLDJdLAogICAgICAgICAgICBbMywyLDIsMiwzXQogICAgICAgIF07CgoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBDb25zdGFudHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIAogICAgCgoKCgogICAgCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRnVuY3Rpb25zIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKiBAcGFyYW0ge251bWJlcnwidWx0cmEifSBvZGQgCiAgICAgKiBAcGFyYW0geyp9IHNxdWFyZXMgCiAgICAgKi8KICAgIHZhciBnZXRTcXVhcmVDb250ZW50ID0gZnVuY3Rpb24gZ2V0U3F1YXJlQ29udGVudChvZGQsc3F1YXJlcyl7CiAgICAgICAgc3dpdGNoKG9kZCl7CiAgICAgICAgICAgIGNhc2UgInVsdHJhIjp7CiAgICAgICAgICAgICAgICB2YXIgbnVtT2ZVbHRyYXMgPSBzcXVhcmVzLnVsdHJhUmFyZS5sZW5ndGg7CiAgICAgICAgICAgICAgICBpZihudW1PZlVsdHJhcz4wKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHNxdWFyZXMudWx0cmFSYXJlLnNwbGljZShNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbnVtT2ZVbHRyYXMpLDEpKVswXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6ewogICAgICAgICAgICAgICAgdmFyIG51bU9mU3VyZVRoaW5ncyA9IHNxdWFyZXMuc3VyZVRoaW5nLmxlbmd0aDsKICAgICAgICAgICAgICAgIGlmKG51bU9mU3VyZVRoaW5ncz4wKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHNxdWFyZXMuc3VyZVRoaW5nLnNwbGljZShNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbnVtT2ZTdXJlVGhpbmdzKSwxKSlbMF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSAyOnsKICAgICAgICAgICAgICAgIHZhciBudW1PZkNvbW1vbnMgPSBzcXVhcmVzLmNvbW1vbi5sZW5ndGg7CiAgICAgICAgICAgICAgICBpZihudW1PZkNvbW1vbnM+MCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzcXVhcmVzLmNvbW1vbi5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm51bU9mQ29tbW9ucyksMSkpWzBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgMzogewogICAgICAgICAgICAgICAgdmFyIG51bU9mTWVkaXVtcyA9IHNxdWFyZXMubWVkaXVtLmxlbmd0aDsKICAgICAgICAgICAgICAgIHZhciBudW1PZlJhcmVzID0gc3F1YXJlcy5yYXJlLmxlbmd0aDsKICAgICAgICAgICAgICAgIGlmKChudW1PZk1lZGl1bXMgKyBudW1PZlJhcmVzKT4wKXsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmFyZSA9IEJvb2xlYW4oCiAgICAgICAgICAgICAgICAgICAgICAgIChudW1PZlJhcmVzICE9PTApICYmCiAgICAgICAgICAgICAgICAgICAgICAgIChNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSo0KT09PTEpCiAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgaWYoaXNSYXJlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzcXVhcmVzLnJhcmUuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpudW1PZlJhcmVzKSwxKSlbMF07CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3F1YXJlcy5tZWRpdW0uc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpudW1PZk1lZGl1bXMpLDEpKVswXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVmYXVsdDp7CiAgICAgICAgICAgICAgICByZXR1cm4gIkZyZWUgU3F1YXJlIjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICAKICAgIC8qKgogICAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2FyZCAKICAgICAqIEByZXR1cm4ge0hUTUxEaXZFbGVtZW50fQogICAgICovCiAgICB2YXIgY2FyZFRvSHRtbEVsZW1lbnQgPSBmdW5jdGlvbiBjYXJkVG9IdG1sRWxlbWVudChjYXJkKXsKICAgICAgICB2YXIgdW5pcXVlSWQgPSAia2hwLWJpbmdvLWlkLSIrKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKICAgICAgICAvKioKICAgICAgICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSBlbCAKICAgICAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICAgICAqLwogICAgICAgIHZhciB0b2dnbGVDaGVja2VkID0gZnVuY3Rpb24gdG9nZ2xlQ2hlY2tlZChlbCl7CiAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSBCb29sZWFuKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1raHAtYmluZ28tc3F1YXJlLWNoZWNrZWQnKT09PSJ0cnVlIik7CiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1raHAtYmluZ28tc3F1YXJlLWNoZWNrZWQnLChpc0NoZWNrZWQ/J2ZhbHNlJzondHJ1ZScpKTsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAKICAgICAgICAgKiBAcmV0dXJuIHZvaWQ7CiAgICAgICAgICovCiAgICAgICAgdmFyIHVwZGF0ZU1vYmlsZVByZXZpZXcgPSBmdW5jdGlvbiB1cGRhdGVNb2JpbGVQcmV2aWV3KGlkKXsKCiAgICAgICAgICAgIHZhciBtb2JpbGVQcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQrIi1tb2JpbGUtcHJldmlldyIpOwogICAgICAgIAogICAgICAgICAgICB3aGlsZShtb2JpbGVQcmV2aWV3LmZpcnN0Q2hpbGQpewogICAgICAgICAgICAgICAgbW9iaWxlUHJldmlldy5yZW1vdmVDaGlsZChtb2JpbGVQcmV2aWV3LmZpcnN0Q2hpbGQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYmluZ29DYXJkICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKyItY2FyZCIpOwogICAgICAgICAgICB2YXIgY2FyZFNpemUgICAgICA9IHBhcnNlSW50KGJpbmdvQ2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2hwLWNhcmQtc2l6ZScpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBzcXVhcmVzID0gYmluZ29DYXJkLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tocC1iaW5nby1zcXVhcmUnKTsKICAgICAgICAgICAgdmFyIGNhcmRMZW5ndGggPSBzcXVhcmVzLmxlbmd0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgbWluaUNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbWluaUNhcmQuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2tocC1iaW5nby1taW5pLWNhcmQnKTsKICAgICAgICAgICAgbWluaUNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLWtocC1taW5pLWNhcmQtc2l6ZScsY2FyZFNpemUudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IodmFyIGk9MDtpPGNhcmRMZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgIHZhciBpc0NoZWNrZWQgPSBzcXVhcmVzW2ldLmdldEF0dHJpYnV0ZSgiZGF0YS1raHAtYmluZ28tc3F1YXJlLWNoZWNrZWQiKT09PSJ0cnVlIjsKCiAgICAgICAgICAgICAgICB2YXIgcHJlU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBwcmVTcXVhcmUuc2V0QXR0cmlidXRlKCdkYXRhLWtocC1iaW5nby1zcXVhcmUtY2hlY2tlZCcsaXNDaGVja2VkLnRvU3RyaW5nKCkpCiAgICAgICAgICAgICAgICBtaW5pQ2FyZC5hcHBlbmRDaGlsZChwcmVTcXVhcmUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1vYmlsZVByZXZpZXcuYXBwZW5kQ2hpbGQobWluaUNhcmQpOwogICAgICAgIH07CgoKCiAgICAgICAgdmFyIGNhcmRMZW5ndGggPSBjYXJkLmxlbmd0aDsKICAgICAgICB2YXIgY2FyZFNpemUgPSBNYXRoLnNxcnQoY2FyZExlbmd0aCk7CgogICAgICAgIAogICAgICAgIHZhciBiaW5nb1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBiaW5nb1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2tocC1iaW5nby13cmFwcGVyJyk7CiAgICAgICAgCiAgICAgICAgdmFyIGJpbmdvTW9iaWxlUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGJpbmdvTW9iaWxlUHJldmlldy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywna2hwLWJpbmdvLW1vYmlsZS1wcmV2aWV3Jyk7CiAgICAgICAgYmluZ29Nb2JpbGVQcmV2aWV3LmlkID0gdW5pcXVlSWQrIi1tb2JpbGUtcHJldmlldyI7CiAgICAgICAgCiAgICAgICAgYmluZ29XcmFwcGVyLmFwcGVuZENoaWxkKGJpbmdvTW9iaWxlUHJldmlldyk7CiAgICAgICAgCiAgICAgICAgdmFyIGJpbmdvQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGJpbmdvQ2FyZC5pZCA9IHVuaXF1ZUlkKyItY2FyZCI7CiAgICAgICAgYmluZ29DYXJkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdraHAtYmluZ28tY2FyZCcpOwogICAgICAgIGJpbmdvQ2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEta2hwLWNhcmQtc2l6ZScsY2FyZFNpemUudG9TdHJpbmcoKSk7CiAgICAgICAgCiAgICAgICAgZm9yKHZhciBpPTA7aTxjYXJkTGVuZ3RoO2krKyl7CiAgICAgICAgICAgIHZhciBzcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgc3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdraHAtYmluZ28tc3F1YXJlJyk7CiAgICAgICAgICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2hwLWJpbmdvLXNxdWFyZS1jaGVja2VkJywnZmFsc2UnKTsKICAgICAgICAgICAgc3F1YXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1raHAtYmluZ28taWQnLHVuaXF1ZUlkKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHNxdWFyZVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjYXJkW2ldKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciB0ZXh0Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOwogICAgICAgICAgICB0ZXh0Qm94LmFwcGVuZENoaWxkKHNxdWFyZVRleHQpCiAgICAgICAgICAgIAogICAgICAgICAgICB0ZXh0V3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0Qm94KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNxdWFyZS5hcHBlbmRDaGlsZCh0ZXh0V3JhcHBlcik7CiAgICAgICAgICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHRvZ2dsZUNoZWNrZWQodGhpcyk7CiAgICAgICAgICAgICAgICB1cGRhdGVNb2JpbGVQcmV2aWV3KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWtocC1iaW5nby1pZCcpKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgYmluZ29DYXJkLmFwcGVuZENoaWxkKHNxdWFyZSk7CiAgICAgICAgfQogICAgICAgIGJpbmdvV3JhcHBlci5hcHBlbmRDaGlsZChiaW5nb0NhcmQpOwogICAgICAgIHJldHVybiBiaW5nb1dyYXBwZXI7CiAgICB9OwoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBGdW5jdGlvbnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIAogICAgCgoKCgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gRXhlY3V0aW9ucyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgdmFyIHBsYXllckNhcmQgPSBbXTsvLy5jb25jYXQob2Rkc01hcCk7CgogICAgdmFyIHJvd3NPbkNhcmQgPSBvZGRzTWFwLmxlbmd0aDsKICAgIGZvcih2YXIgaT0wO2k8cm93c09uQ2FyZDtpKyspewogICAgICAgIC8vIHBsYXllckNhcmQucHVzaChbXSk7CiAgICAgICAgCiAgICAgICAgdmFyIHNxdWFyZXNPblJvdyA9IG9kZHNNYXBbaV0ubGVuZ3RoOwogICAgICAgIGZvcih2YXIgaj0wO2o8c3F1YXJlc09uUm93O2orKyl7CiAgICAgICAgICAgIHZhciBzcXVhcmVPZGQgPSBvZGRzTWFwW2ldW2pdOwogICAgICAgICAgICAvLyBwbGF5ZXJDYXJkW2ldLnB1c2goZ2V0U3F1YXJlQ29udGVudChzcXVhcmVPZGQsYmluZ29PYmplY3Quc3F1YXJlcykpOwogICAgICAgICAgICBwbGF5ZXJDYXJkLnB1c2goZ2V0U3F1YXJlQ29udGVudChzcXVhcmVPZGQsYmluZ29PYmplY3Quc3F1YXJlcykpOwogICAgICAgIH0KICAgIH0KCiAgICB2YXIgaGFzVWx0cmEgPSBCb29sZWFuKAogICAgICAgIChiaW5nb09iamVjdC5zcXVhcmVzLnVsdHJhUmFyZS5sZW5ndGg+MCkgJiYKICAgICAgICAoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTAwKT09PTEpCiAgICApOwoKICAgIGlmKGhhc1VsdHJhKXsKICAgICAgICB2YXIgdWx0cmFTcXVhcmUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcGxheWVyQ2FyZC5sZW5ndGgpOwogICAgICAgIHBsYXllckNhcmRbdWx0cmFTcXVhcmVdID0gZ2V0U3F1YXJlQ29udGVudCgidWx0cmEiLGJpbmdvT2JqZWN0LnNxdWFyZXMpOwogICAgfQoKICAgIHZhciBjYXJkRWxlbWVudCA9IGNhcmRUb0h0bWxFbGVtZW50KHBsYXllckNhcmQpOwogICAgLy8gdmFyIGh0bWxUZXh0ID0gY2FyZFRvSHRtbEVsZW1lbnQocGxheWVyQ2FyZCkub3V0ZXJIVE1MOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChjYXJkRWxlbWVudCk7CiAgICAvKiogIEB0eXBlIHtIVE1MRGl2RWxlbWVudH0gKi8KICAgIHZhciBjbGlja0NoZWF0ID0gZG9jdW1lbnQKICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdraHAtYmluZ28tY2FyZCcpWzBdCiAgICAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgna2hwLWJpbmdvLXNxdWFyZScpWzBdCiAgICAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzBdOwogICAgY2xpY2tDaGVhdC5jbGljaygpOwogICAgY2xpY2tDaGVhdC5jbGljaygpOwoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEV4ZWN1dGlvbnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIAp9KSgpOw=="></script></body>
</html>
